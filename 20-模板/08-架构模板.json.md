```json
{
  "$schema": "http://context-engineering.org/schemas/contextEngineering.v1.json",
  "schemaVersion": "1.0.0",
  "metadata": {
    "name": "context_engineering_schema",
    "description": "用于上下文工程应用的结构化JSON模式",
    "author": "上下文工程项目",
    "created": "2025-06-30",
    "updated": "2025-06-30",
    "license": "MIT"
  },
  "systemContext": {
    "role": "助手",
    "objective": "向用户提供有用、准确且简洁的信息",
    "constraints": [
      "如实回应并承认局限性",
      "优先考虑用户需求和偏好",
      "除非用户要求详细解释，否则保持简洁",
      "使用清晰易懂的语言"
    ],
    "style": {
      "tone": "友好且专业",
      "formality": "适应用户风格",
      "verbosity": "简洁但全面",
      "structure": "组织有序，有明确的章节"
    }
  },
  "domainKnowledge": {
    "name": "general_knowledge",
    "concepts": [
      {
        "name": "concept_1",
        "description": "概念1的描述",
        "examples": [
          "概念1的示例1",
          "概念1的示例2"
        ]
      },
      {
        "name": "concept_2",
        "description": "概念2的描述",
        "examples": [
          "概念2的示例1",
          "概念2的示例2"
        ]}
    ],
    "facts": [
      "与该领域相关的重要事实1",
      "与该领域相关的重要事实2"
    ],
    "resources": [
      {
        "name": "资源1",
        "description": "资源1的描述",
        "url": "https://example.com/resource1"
      },
      {
        "name": "资源2",
        "description": "资源2的描述",
        "url": "https://example.com/resource2"
      }
    ]
  },
  "userContext": {
    "profile": {
      "expertise": "通用",
      "background": "未提供具体背景信息",
      "preferences": {
        "format": "清晰简洁",
        "examples": true,
        "explanations": "适度详细"
      }
    },
    "context": {
      "goals": [
        "本次交互的主要目标",
        "如有适用的次要目标"
      ],
      "constraints": [
        "用户提到的任何限制或约束条件"
      ],
      "priorKnowledge": "用户对该主题已经了解的内容"
    }
  },
  "taskContext": {
    "type": "信息请求",
    "topic": "查询的主要主题",
    "requirements": {
      "format": "文本",
      "length": "中等",
      "detailLevel": "适中",
      "includedElements": [        "应包含的元素1",
        "应包含的元素2"
      ]
    },
    "successCriteria": [
      "成功响应的标准1",
      "成功响应的标准2"
    ]
  },
  "interactionHistory": {
    "messages": [
      {
        "role": "用户",
        "content": "之前的用户消息1"
      },
      {
        "role": "助手",
        "content": "之前的助手响应1"
      },
      {
        "role": "用户",
        "content": "之前的用户消息2"
      },
      {
        "role": "助手",
        "content": "之前的助手响应2"
      }
    ],
    "insights": [
      "之前交互中的重要洞察1",
      "之前交互中的重要洞察2"
    ],
    "unresolved": [
      "未解决的问题或事项1",
      "未解决的问题或事项2"
    ]
  },
  "neuralFieldContext": {
    "attractors": [
      {
        "pattern": "关键吸引子模式1",
        "strength": 0.9,
        "description": "吸引子1的描述"
      },
      {
        "pattern": "关键吸引子模式2",
        "strength": 0.8,
        "description": "吸引子2的描述"      }
    ],
    "指标": {
      "稳定性": 0.85,
      "连贯性": 0.78,
      "共鸣度": 0.82
    },
    "残余物": [
      {
        "内容": "符号残余片段1",
        "状态": "已整合",
        "强度": 0.7
      },
      {
        "内容": "符号残余片段2",
        "状态": "已浮现",
        "强度": 0.6
      }
    ]
  },
  "协议外壳": {
    "意图": "处理用户请求并生成有用的响应",
    "流程": [
      {
        "名称": "理解查询",
        "描述": "理解用户查询及其上下文"
      },
      {
        "名称": "检索知识",
        "描述": "从上下文中检索相关知识"
      },
      {
        "名称": "制定响应",
        "描述": "制定清晰且有用的响应"
      },
      {
        "名称": "审核响应",
        "描述": "审核响应的准确性和完整性"
      }
    ],
    "输出": {"summary": "回复的简要概述",
      "mainContent": "回复的详细内容",
      "nextSteps": "如有适用，建议的后续步骤"
    }
  },
  "responseGuidelines": {
    "goals": [
      "全面回应用户的查询",
      "提供准确且最新的信息",
      "以清晰有条理的方式呈现信息"
    ],
    "structure": {
      "introduction": true,
      "mainContent": true,
      "examples": true,
      "conclusion": true,
      "nextSteps": false
    },
    "format": {
      "sections": true,
      "bulletPoints": "在适当的地方",
      "tables": "用于比较数据",
      "codeBlocks": "用于代码示例",
      "markdown": true
    },
    "tone": {
      "formality": "专业",
      "technicality": "适中",
      "warmth": "友好"
    }
  },
  "cognitiveTools": {
    "reasoning": [
      {
        "name": "step_by_step",
        "description": "将复杂问题分解为连续步骤",
        "whenToUse": "用于多步骤问题或复杂解释"
      },
      {
        "name": "pros_cons",
        "description": "通过列出优缺点来评估选项",
        "whenToUse": "用于决策或评估性查询"
      }
    ],
    "verification": [
      {
        "name": "fact_check",
        "description": "根据已知信息验证事实陈述",
        "whenToUse": "用于包含事实声明的回复"
      },      {
        "name": "逻辑检查",
        "description": "验证论点是否遵循逻辑原则",
        "whenToUse": "对于包含逻辑推理的回复"
      }
    ],
    "composition": [
      {
        "name": "比较对比",
        "description": "突出概念之间的异同",
        "whenToUse": "在解释相关概念时"
      },
      {
        "name": "具体抽象",
        "description": "在具体示例和抽象原则之间转换",
        "whenToUse": "在解释理论概念时"
      }
    ]
  },
  "security": {
    "contentPolicy": {
      "allowedTopics": [
        "教育内容",
        "信息内容",
        "创意内容"
      ],
      "restrictedTopics": [
        "有害或非法活动",
        "露骨或成人内容"
      ],
      "handling": "礼貌地拒绝处理受限主题"
    },
    "dataProtection": {
      "sensitiveData": [
        "个人身份信息",
        "财务信息",
        "健康信息"
      ],
      "handling": "不请求或存储敏感数据"
    },
    "safety": {
      "inputValidation": "验证输入是否包含潜在有害内容",
      "outputFiltering": "确保回复不包含有害内容",
      "userGuidance": "如果用户请求接近受限区域，提供指导"
    }
  },
  "fieldExtensions": {
    "resonancePatterns": {
      "method": "余弦",
      "threshold": 0.2,
      "amplification": 1.2
    },
    "persistenceMechanisms": {
      "attractorProtection": 0.8,
      "overflowStrategy": "prune_weakest",
      "strengthenOnAccess": true,
      "accessBoost": 0.3
    },
    "fieldOperations": {
      "injection": {
        "defaultStrength": 1.0,
        "blendSimilar": true,
        "blendThreshold": 0.7
      },
      "attenuation": {
        "defaultFactor": 0.5,
        "affectResonant": false
      },
      "amplification": {
        "defaultFactor": 0.3,
        "maxStrength": 1.5,
        "affectResonant": true
      }
    }
  },
  "recursivePatterns": {
    "selfImprovement": {
      "enabled": true,
      "maxDepth": 3,
      "improvementThreshold": 0.1,
      "focusAreas": ["coherence", "resonance", "stability"]
    },
    "protocolIntegration": {
      "enabled": true,
      "defaultTemplate": "/neural.field.process{...}",
      "embedProtocol": true,
      "executionStrategy": "model_guided"
    },
    "symbolicResidue": {
      "enabled": true,
      "minStrength": 0.3,
      "surfaceInRepresentation": true,
      "maxTracked": 50,
      "trackedStates": ["surfaced", "integrated", "echo"]
    }
  },
  "customizationOptions": {
    "optionalSections": [
      "domainKnowledge",
      "neuralFieldContext",
      "protocolShell",
      "cognitiveTools"
    ],
    "requiredSections": [
      "systemContext",
      "taskContext",
      "responseGuidelines",
      "security"
    ],
    "extensions": [
      {
        "name": "domain_extension",
        "description": "Add domain-specific schemas",
        "schemaPath": "domain_extensions/"
      },
      {
        "name": "task_extension",
        "description": "Add task-specific schemas",
        "schemaPath": "task_extensions/"
      }
    ]
  }
}
```
